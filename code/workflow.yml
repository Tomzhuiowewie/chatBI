app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: åŸºå»º0524_v4
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/ollama:0.0.6@7d66a960a68cafdcdf5589fdf5d01a995533f956853c69c54eddcf797006fa37
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: junjiem/db_query:0.0.7@4f9d2a23ee55c9548b235b33af3c5e27c7ec8ba28de975e6a060f450485c2911
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/echarts:0.0.1@fe95412f101f2735530ea05f479ab5e8fbe1d4f4b2847f09e490e7d1d0125de5
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/tongyi:0.0.21@cb32d252bc1ebc61437c9134e22db2be5ccdd48223e08b9ea0deff4f0df0a187
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/gpustack:0.0.8@8fe1abce0914a80dab12caa46da58a5378ae2d214087d65340cbc4111ed669c5
kind: app
version: 0.3.1
workflow:
  conversation_variables: []
  environment_variables:
  - description: ''
    id: bea91225-ce13-4632-91e3-91b7f42f0e04
    name: DB_NAME2
    selector:
    - env
    - DB_NAME2
    value: snsj_app_server_anquanyujing
    value_type: string
  - description: ''
    id: 7b4d2392-4c2c-4af0-b357-eff66b2f11eb
    name: DB_USER2
    selector:
    - env
    - DB_USER2
    value: root
    value_type: string
  - description: ''
    id: 0cc86c09-3bc9-4a73-8ca7-b78e2c9cc15d
    name: DB_PASSWORD2
    selector:
    - env
    - DB_PASSWORD2
    value: '!qazxsw@2129,'
    value_type: string
  - description: ''
    id: 7dba2200-4aa5-4a82-acea-1388675a1efa
    name: DB_ADDR2
    selector:
    - env
    - DB_ADDR2
    value: rbdns.zapto.org
    value_type: string
  - description: ''
    id: 0d212416-8b90-4c57-b93c-d44dac38c9dc
    name: DB_NAME
    selector:
    - env
    - DB_NAME
    value: test
    value_type: string
  - description: ''
    id: e16c3af6-89a3-420b-bf49-531db0adbdcf
    name: DB_PASSWORD
    selector:
    - env
    - DB_PASSWORD
    value: my-secret-pw
    value_type: string
  - description: ''
    id: 882b867c-ef62-4b85-87f2-4b87b4b9d9e8
    name: DB_USER
    selector:
    - env
    - DB_USER
    value: root
    value_type: string
  - description: ''
    id: d1245b4a-07ba-4f57-81e7-968278fdb5c0
    name: DB_ADDR
    selector:
    - env
    - DB_ADDR
    value: 192.168.190.80
    value_type: string
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInLoop: false
        sourceType: start
        targetType: knowledge-retrieval
      id: 1747725005596-source-1747725202374-target
      selected: false
      source: '1747725005596'
      sourceHandle: source
      target: '1747725202374'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: knowledge-retrieval
        targetType: llm
      id: 1747725202374--1747725311599-target
      selected: false
      source: '1747725202374'
      sourceHandle: source
      target: '1747725311599'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 1747725311599-source-1747751818180-target
      selected: false
      source: '1747725311599'
      sourceHandle: source
      target: '1747751818180'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: tool
      id: 1747751818180-source-1747752928210-target
      selected: false
      source: '1747751818180'
      sourceHandle: source
      target: '1747752928210'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: tool
      id: 1747841498631-true-1747813580715-target
      selected: false
      source: '1747841498631'
      sourceHandle: 'true'
      target: '1747813580715'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: tool
      id: 1747841498631-9ad98e85-20c2-4589-af7f-7a7bf305d2e2-1747841365853-target
      selected: false
      source: '1747841498631'
      sourceHandle: 9ad98e85-20c2-4589-af7f-7a7bf305d2e2
      target: '1747841365853'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: tool
      id: 1747841498631-b6bba3b4-d2c8-4bd7-848a-65e0092964c6-1747841371449-target
      selected: false
      source: '1747841498631'
      sourceHandle: b6bba3b4-d2c8-4bd7-848a-65e0092964c6
      target: '1747841371449'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: llm
      id: 1747813580715-source-1747841753120-target
      selected: false
      source: '1747813580715'
      sourceHandle: source
      target: '1747841753120'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: 1747841753120-source-1747841769222-target
      selected: false
      source: '1747841753120'
      sourceHandle: source
      target: '1747841769222'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: llm
      id: 1747841365853-source-17478778952540-target
      selected: false
      source: '1747841365853'
      sourceHandle: source
      target: '17478778952540'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: llm
      id: 1747841371449-source-17478779274600-target
      selected: false
      source: '1747841371449'
      sourceHandle: source
      target: '17478779274600'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: 17478778952540-source-17478779734590-target
      selected: false
      source: '17478778952540'
      sourceHandle: source
      target: '17478779734590'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: 17478779274600-source-17478780555980-target
      selected: false
      source: '17478779274600'
      sourceHandle: source
      target: '17478780555980'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1747907978796-b9de981d-33a1-47fc-b9a7-c455f659f2cb-17479081800800-target
      selected: false
      source: '1747907978796'
      sourceHandle: b9de981d-33a1-47fc-b9a7-c455f659f2cb
      target: '17479081800800'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: 17479081800800-source-1747908292502-target
      selected: false
      source: '17479081800800'
      sourceHandle: source
      target: '1747908292502'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: template-transform
      id: 1747752928210-source-1747814091755-target
      selected: false
      source: '1747752928210'
      sourceHandle: source
      target: '1747814091755'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: if-else
      id: 1747907776898-source-1747907978796-target
      selected: false
      source: '1747907776898'
      sourceHandle: source
      target: '1747907978796'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1747907978796-false-1747910108539-target
      selected: false
      source: '1747907978796'
      sourceHandle: 'false'
      target: '1747910108539'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: template-transform
        targetType: if-else
      id: 1747814091755-source-1747987320346-target
      source: '1747814091755'
      sourceHandle: source
      target: '1747987320346'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1747987320346-true-1747987368698-target
      source: '1747987320346'
      sourceHandle: 'true'
      target: '1747987368698'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1747987320346-false-1747907776898-target
      source: '1747987320346'
      sourceHandle: 'false'
      target: '1747907776898'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: 1747987368698-source-1747996238797-target
      source: '1747987368698'
      sourceHandle: source
      target: '1747996238797'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: tool
        targetType: answer
      id: 1747752928210-fail-branch-1747998392408-target
      source: '1747752928210'
      sourceHandle: fail-branch
      target: '1747998392408'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: 1747987368698-fail-branch-1747998467066-target
      source: '1747987368698'
      sourceHandle: fail-branch
      target: '1747998467066'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1747987320346-831e9b1d-8a8a-44f4-8a89-cb71a68096d0-1749177133063-target
      source: '1747987320346'
      sourceHandle: 831e9b1d-8a8a-44f4-8a89-cb71a68096d0
      target: '1749177133063'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1747907978796-true-1749990827866-target
      source: '1747907978796'
      sourceHandle: 'true'
      target: '1749990827866'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1747841498631-false-17499920264110-target
      selected: false
      source: '1747841498631'
      sourceHandle: 'false'
      target: '17499920264110'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: 17499920264110-source-1749992103021-target
      source: '17499920264110'
      sourceHandle: source
      target: '1749992103021'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: if-else
      id: 1749990827866-source-1747841498631-target
      source: '1749990827866'
      sourceHandle: source
      target: '1747841498631'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: llm
      id: 1747813580715-fail-branch-17499920264110-target
      source: '1747813580715'
      sourceHandle: fail-branch
      target: '17499920264110'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: llm
      id: 1747841365853-fail-branch-17499920264110-target
      source: '1747841365853'
      sourceHandle: fail-branch
      target: '17499920264110'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: llm
      id: 1747841371449-fail-branch-17499920264110-target
      source: '1747841371449'
      sourceHandle: fail-branch
      target: '17499920264110'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: 1747725311599-fail-branch-1747998431868-target
      source: '1747725311599'
      sourceHandle: fail-branch
      target: '1747998431868'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables: []
      height: 54
      id: '1747725005596'
      position:
        x: 30
        y: 362.5
      positionAbsolute:
        x: 30
        y: 362.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        dataset_ids:
        - 7uEkUpiF1iImw9oXx++uDOzVmWOIGZl4IzfXEBkyuwdyj2/roWB1PlE8FbA4JEY5
        - Jit4z5GPop/013u7VK+/08VRDhCmMQ2XEZTSLUH2CmSCC5xZgrf/fgsJfI2uhob/
        desc: ''
        multiple_retrieval_config:
          reranking_enable: true
          reranking_mode: reranking_model
          reranking_model:
            model: gte-rerank
            provider: langgenius/tongyi/tongyi
          score_threshold: null
          top_k: 10
          weights:
            keyword_setting:
              keyword_weight: 0.5
            vector_setting:
              embedding_model_name: quentinz/bge-large-zh-v1.5:latest
              embedding_provider_name: langgenius/ollama/ollama
              vector_weight: 0.5
        query_variable_selector:
        - sys
        - query
        retrieval_mode: multiple
        selected: false
        title: çŸ¥è¯†æ£€ç´¢
        type: knowledge-retrieval
      height: 120
      id: '1747725202374'
      position:
        x: 335.6132707507734
        y: 362.5
      positionAbsolute:
        x: 335.6132707507734
        y: 362.5
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '1747725202374'
          - result
        desc: ''
        error_strategy: fail-branch
        model:
          completion_params:
            temperature: 0.7
            top_p: 0
          mode: chat
          name: DeepSeek-R1-Distill-Qwen-32B-Q8
          provider: langgenius/gpustack/gpustack
        prompt_template:
        - edition_type: basic
          id: fc41ea04-402d-4f07-88f3-57e959b440c2
          role: system
          text: 'ã€è§’è‰²è®¾å®šã€‘

            æ‚¨æ˜¯ä¸€ä½ç²¾é€šSQLè¯­è¨€çš„æ•°æ®åº“ä¸“å®¶ï¼Œç†Ÿæ‚‰MySQLæ•°æ®åº“ã€‚æ“…é•¿æ ¹æ®å†å²ç”¨æˆ·é—®é¢˜sqlå¯¹åŠåº“è¡¨ç»“æ„å°†è‡ªç„¶è¯­è¨€ç²¾å‡†è½¬æ¢ä¸ºç¬¦åˆè§„èŒƒçš„SQLè¯­å¥ã€‚


            ã€è¾“å…¥å¤„ç†æµç¨‹ã€‘

            1. å†å²é—®é¢˜ï¼šæŸ¥çœ‹æ˜¯å¦æœ‰ç›¸ä¼¼/ç›¸åŒçš„ç”¨æˆ·é—®é¢˜ï¼ˆæŸ¥çœ‹å’Œç»Ÿè®¡å«ä¹‰ç›¸åŒï¼‰ï¼Œæœ‰çš„è¯ç›´æ¥è¿”å›å¯¹åº”sqlè¯­å¥å³å¯ï¼Œ**æ— éœ€è€ƒè™‘ä»»ä½•é—®é¢˜(æ— éœ€ä»»ä½•æ€è€ƒ)**

            2. ç»“æ„ç¡®è®¤ï¼šæ ¹æ®ç”¨æˆ·çš„æŸ¥è¯¢éœ€æ±‚ï¼Œç¡®å®šæ¶‰åŠçš„è¡¨å’Œå­—æ®µï¼Œæ£€æŸ¥å­—æ®µåæ˜¯å¦å‡†ç¡®åŠå…¶å«ä¹‰ä½œç”¨

            3. å…³è”åˆ†æï¼šèƒ½å‡†ç¡®è¯†åˆ«ä¸šåŠ¡éœ€æ±‚ä¸­çš„éšè—æ¡ä»¶ï¼Œç¡®è®¤å¤šè¡¨å…³è”æ—¶çš„è¿æ¥æ¡ä»¶æ˜¯å¦æ­£ç¡®

            4. æ¡ä»¶æ¨å¯¼ï¼šæ·±å…¥ç†è§£å½“å‰ä¸šåŠ¡ç³»ç»Ÿçš„è¡¨ç»“æ„ï¼Œå°†æ¨¡ç³Šçš„ä¸šåŠ¡æè¿°è½¬åŒ–ä¸ºç²¾ç¡®çš„WHEREæ¡ä»¶

            5.Â å¼‚å¸¸å¤„ç†ï¼šè¯†åˆ«å¯èƒ½å­˜åœ¨çš„é€»è¾‘çŸ›ç›¾æˆ–æ€§èƒ½é™·é˜±

            6. çº¦æŸåˆ¤æ–­ï¼šå¦‚æœç”¨æˆ·çš„é—®é¢˜æŸ¥çš„æ˜¯**è½¨è¿¹**ä¿¡æ¯ï¼Œåˆ™åªè¾“å‡ºä¸€æ¡ï¼Œé™å®šlimit=1

            7.åˆ é™¤å›ç­”ä¸­é¢å¤–çš„è§£é‡Šä¿¡æ¯


            ã€å…³é”®æŠ€å·§ã€‘

            - WHERE å­å¥ï¼šç”¨äºè¿‡æ»¤æ•°æ®ï¼Œä¾‹å¦‚ï¼ŒWHERE column_name="value"ã€‚

            - **æ—¥æœŸå¤„ç†ï¼š**ä½¿ç”¨''STR_TO_DATE''å‡½æ•°å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¥æœŸç±»å‹ï¼Œä¾‹å¦‚ï¼Œ''STR_TO_DATE(''2025-03-14'',
            ''%Y-%m-%d'')''ï¼ŒåŒæ—¶è‹¥é—®æŸä¸€å¤©ï¼Œåˆ™å¤„ç†å¦‚ä¸‹STR_TO_DATE(CONCAT(''2025-03-14'', '' 00:00:00''),
            ''%Y-%m-%d %H:%i:%s'') AND  STR_TO_DATE(CONCAT(''2025-03-14'', '' 23:59:59''),
            ''%Y-%m-%d %H:%i:%s'')ã€‚

            - **èšåˆå‡½æ•°ï¼š**å¦‚â€™COUNTâ€˜ã€â€˜SUM''ã€''AVG''ç­‰ï¼Œç”¨äºè®¡ç®—æ±‡æ€»è®¡ç®—ã€‚

            - **é™¤æ³•å¤„ç†ï¼š**åœ¨è¿›è¡Œé™¤æ³•å¤„ç†æ—¶ï¼Œéœ€è¦è€ƒè™‘é™¤æ•°ä¸ºé›¶çš„æƒ…å†µï¼Œé¿å…é”™è¯¯ã€‚

            - **æ—¥æœŸèŒƒå›´ç¤ºä¾‹ï¼š**æŸ¥è¯¢ç‰¹å®šæ—¥æœŸèŒƒå›´çš„æ•°æ®æ—¶ï¼Œä½¿ç”¨''BETWEEN''å…³é”®å­—ï¼Œä¾‹å¦‚ï¼Œ''WHERE data_column'' BETWEEN
            ''2025-01-01'' AND ''2025-12-31''ã€‚

            - **æ—¶é—´èŒƒå›´çº¦æŸï¼š** è‹¥ç”¨æˆ·é—®é¢˜ä¸­åŒ…å«â€œå½“å‰â€â€œä»Šå¤©â€â€œæœ¬å‘¨â€â€œæœ¬æœˆâ€â€œæœ€è¿‘â€â€œè¿‘å‡ å¤©â€ç­‰è¯è¯­ï¼Œåº”è‡ªåŠ¨è§£æä¸ºç›¸åº”çš„æ—¶é—´åŒºé—´ï¼Œå¹¶åœ¨ SQL
            ä¸­ä½“ç°ä¸ºå¯¹åº”çš„æ—¥æœŸèŒƒå›´ç­›é€‰é€»è¾‘ï¼ˆå¦‚ï¼šæœ€è¿‘7å¤© â†’ CURDATE() - INTERVAL 7 DAYï¼›å½“å‰(å½“å‰å‘ç”Ÿ)ç»Ÿä¸€æŒ‰ä»Šå¤©å¤„ç†â†’CURDATE()
            - INTERVAL 1 DAYï¼‰


            ã€è¾“å‡ºè¦æ±‚ã€‘

            1.ç¡®ä¿SQLè¯­å¥çš„è¯­æ³•ç¬¦åˆMySQLçš„è§„èŒƒ

            2. è¾“å‡ºçš„SQLè¯­å¥å¿…é¡»å®Œæ•´ä¸”å¯è¡Œçš„ï¼Œä¸åŒ…å«æ³¨é‡Šæˆ–å¤šä½™çš„æ¢è¡Œç¬¦

            3.å¦‚æœç”¨æˆ·çš„é—®é¢˜æŸ¥çš„æ˜¯**è½¨è¿¹**ä¿¡æ¯ï¼Œåˆ™åªè¾“å‡ºä¸€æ¡ï¼Œé™å®šlimit=1

            4.å¦‚æœç”¨æˆ·çš„é—®é¢˜æŸ¥çš„æ˜¯æŸåŒ…æ®µä»Šæ—¥æˆ–è€…å½“å‰çš„ä¸åŒé£é™©ç­‰çº§ä½œä¸šæ•°æ®æ—¶æˆ–è€…ç»Ÿè®¡ä»Šæ—¥çš„æ— è®¡åˆ’é«˜é£é™©æ•°é‡æ—¶ï¼Œæ— è®ºç”¨æˆ·æ˜¯å¦è¦ç»Ÿè®¡æœ€è¿‘ï¼Œè¾“å‡ºçš„sqlè¯­å¥éƒ½è¦**æŒ‰ç­‰çº§çš„ä¸åŒç»Ÿè®¡ä¸åŒè®¾å¤‡çš„æ•°é‡**ï¼Œå¦‚SELECT
            alarm_level,COUNT(*) FROM zy_alarm_statistical_view WHERE begin_time >=
            CURDATE() AND end_time < CURDATE() + INTERVAL 1 DAY GROUP BY  alarm_level
            ORDER BY  alarm_level DESC;

            4.ç»Ÿè®¡ä»Šæ—¥çš„é£é™©ä½œä¸šæ•°é‡ï¼Œç›´æ¥ç»™å‡ºsql:SELECT alarm_level,COUNT(*) FROM zy_alarm_statistical_view
            WHERE begin_time >= CURDATE() AND end_time < CURDATE() + INTERVAL 1 DAY
            GROUP BY  alarm_level ORDER BY  alarm_level DESC;

            5.ç›´æ¥ç»™å‡ºèƒ½å¤Ÿä½¿ç”¨çš„sqlè¯­å¥å³å¯ï¼Œæ— éœ€é¢å¤–è§£é‡Šä¿¡æ¯ï¼ï¼ï¼

            6.ä¸è¦è§£é‡Šä¿¡æ¯ï¼ï¼ï¼

            '
        - edition_type: basic
          id: 17dc25d9-4583-4fe1-8c0c-bebaf12803ad
          role: user
          text: 'æ•°æ®åº“ç›¸å…³ç»“æ„ä¿¡æ¯ï¼š

            {{#context#}}

            é—®é¢˜ï¼š{{#sys.query#}}

            '
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 1000
        selected: false
        structured_output_enabled: false
        title: ç”ŸæˆSQL(åŸºäºLLM)
        type: llm
        variables: []
        vision:
          enabled: false
      height: 156
      id: '1747725311599'
      position:
        x: 625.9045717600183
        y: 362.5
      positionAbsolute:
        x: 625.9045717600183
        y: 362.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import re\ndef main(arg: str):\n    match = re.search(r'</think>\\\
          s*\\n?(.*)',arg,re.DOTALL)\n    if match:\n        sql = match.group(1).strip()\n\
          \        # å»é™¤ markdown çš„ ```sql å’Œ ``` æ ‡ç­¾\n        sql = re.sub(r\"^```sql\\\
          s*\", \"\", sql)\n        sql = re.sub(r\"\\s*```$\", \"\", sql)\n     \
          \   # # è½¬ä¸ºå•è¡Œ SQL\n        single_line_sql = ' '.join(sql.split())\n    \
          \    return {\n            \"result\": single_line_sql\n        }\n    return\
          \ ''"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: SQLæå–ï¼ˆä»£ç ï¼‰
        type: code
        variables:
        - value_selector:
          - '1747725311599'
          - text
          variable: arg
      height: 54
      id: '1747751818180'
      position:
        x: 942
        y: 362.5
      positionAbsolute:
        x: 942
        y: 362.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        error_strategy: fail-branch
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: mysql
          form: llm
          human_description:
            en_US: Used for selecting the database type, mysql, oracle, postgresql
              or mssql.
            ja_JP: Used for selecting the database type, mysql, oracle, postgresql
              or mssql.
            pt_BR: Used for selecting the database type, mysql, oracle, postgresql
              or mssql.
            zh_Hans: ç”¨äºé€‰æ‹©æ•°æ®åº“ç±»å‹ï¼Œmysqlã€oracleã€postgresqlæˆ–mssqlã€‚
          label:
            en_US: Database type
            ja_JP: Database type
            pt_BR: Database type
            zh_Hans: æ•°æ®åº“ç±»å‹
          llm_description: ''
          max: null
          min: null
          name: db_type
          options:
          - label:
              en_US: MySQL
              ja_JP: MySQL
              pt_BR: MySQL
              zh_Hans: MySQL
            value: mysql
          - label:
              en_US: Oracle
              ja_JP: Oracle
              pt_BR: Oracle
              zh_Hans: Oracle
            value: oracle
          - label:
              en_US: PostgreSQL
              ja_JP: PostgreSQL
              pt_BR: PostgreSQL
              zh_Hans: PostgreSQL
            value: postgresql
          - label:
              en_US: Microsoft SQL Server
              ja_JP: Microsoft SQL Server
              pt_BR: Microsoft SQL Server
              zh_Hans: Microsoft SQL Server
            value: mssql
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: select
        - auto_generate: null
          default: localhost
          form: llm
          human_description:
            en_US: Database hostname or IP address (Original string, not URL-encoded
              string).
            ja_JP: Database hostname or IP address (Original string, not URL-encoded
              string).
            pt_BR: Database hostname or IP address (Original string, not URL-encoded
              string).
            zh_Hans: æ•°æ®åº“çš„ä¸»æœºåæˆ–IPåœ°å€ï¼ˆåŸå§‹å­—ç¬¦ä¸²ï¼ŒéURLç¼–ç å­—ç¬¦ä¸²ï¼‰ã€‚
          label:
            en_US: Database Host
            ja_JP: Database Host
            pt_BR: Database Host
            zh_Hans: æ•°æ®åº“åœ°å€
          llm_description: ''
          max: null
          min: null
          name: db_host
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Database port.
            ja_JP: Database port.
            pt_BR: Database port.
            zh_Hans: æ•°æ®åº“çš„ç«¯å£ã€‚
          label:
            en_US: Port
            ja_JP: Port
            pt_BR: Port
            zh_Hans: ç«¯å£
          llm_description: ''
          max: null
          min: null
          name: db_port
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Database username (Original string, not URL-encoded string).
            ja_JP: Database username (Original string, not URL-encoded string).
            pt_BR: Database username (Original string, not URL-encoded string).
            zh_Hans: æ•°æ®åº“çš„ç”¨æˆ·åï¼ˆåŸå§‹å­—ç¬¦ä¸²ï¼ŒéURLç¼–ç å­—ç¬¦ä¸²ï¼‰ã€‚
          label:
            en_US: Username
            ja_JP: Username
            pt_BR: Username
            zh_Hans: ç”¨æˆ·å
          llm_description: ''
          max: null
          min: null
          name: db_username
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Database password (Original string, not URL-encoded string).
            ja_JP: Database password (Original string, not URL-encoded string).
            pt_BR: Database password (Original string, not URL-encoded string).
            zh_Hans: æ•°æ®åº“çš„å¯†ç ï¼ˆåŸå§‹å­—ç¬¦ä¸²ï¼ŒéURLç¼–ç å­—ç¬¦ä¸²ï¼‰ã€‚
          label:
            en_US: Password
            ja_JP: Password
            pt_BR: Password
            zh_Hans: å¯†ç 
          llm_description: ''
          max: null
          min: null
          name: db_password
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: secret-input
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Database name (Original string, not URL-encoded string).
            ja_JP: Database name (Original string, not URL-encoded string).
            pt_BR: Database name (Original string, not URL-encoded string).
            zh_Hans: æ•°æ®åº“çš„åç§°ï¼ˆåŸå§‹å­—ç¬¦ä¸²ï¼ŒéURLç¼–ç å­—ç¬¦ä¸²ï¼‰ã€‚
          label:
            en_US: Database name
            ja_JP: Database name
            pt_BR: Database name
            zh_Hans: åº“å
          llm_description: ''
          max: null
          min: null
          name: db_name
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: 'Database properties, for example: alt_host=host1&alt_host=host2&ssl_cipher=%2Fpath%2Fto%2Fcrt'
            ja_JP: 'Database properties, for example: alt_host=host1&alt_host=host2&ssl_cipher=%2Fpath%2Fto%2Fcrt'
            pt_BR: 'Database properties, for example: alt_host=host1&alt_host=host2&ssl_cipher=%2Fpath%2Fto%2Fcrt'
            zh_Hans: æ•°æ®åº“å±æ€§ï¼Œä¾‹å¦‚ï¼šalt_host=host1&alt_host=host2&ssl_cipher=%2Fpath%2Fto%2Fcrt
          label:
            en_US: Database properties
            ja_JP: Database properties
            pt_BR: Database properties
            zh_Hans: æ•°æ®åº“å±æ€§
          llm_description: ''
          max: null
          min: null
          name: db_properties
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: 'SQL query statement, for example: select * from tbl_name'
            ja_JP: 'SQL query statement, for example: select * from tbl_name'
            pt_BR: 'SQL query statement, for example: select * from tbl_name'
            zh_Hans: SQLæŸ¥è¯¢è¯­å¥ï¼Œä¾‹å¦‚ï¼šselect * from tbl_name
          label:
            en_US: Query SQL
            ja_JP: Query SQL
            pt_BR: Query SQL
            zh_Hans: SQLæŸ¥è¯¢è¯­å¥
          llm_description: 'SQL query statement, for example: select * from tbl_name'
          max: null
          min: null
          name: query_sql
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: markdown
          form: form
          human_description:
            en_US: Used for selecting the output format, markdown or json.
            ja_JP: Used for selecting the output format, markdown or json.
            pt_BR: Used for selecting the output format, markdown or json.
            zh_Hans: ç”¨äºé€‰æ‹©è¾“å‡ºæ ¼å¼ï¼Œmarkdownæˆ–jsonã€‚
          label:
            en_US: Output format
            ja_JP: Output format
            pt_BR: Output format
            zh_Hans: è¾“å‡ºæ ¼å¼
          llm_description: ''
          max: null
          min: null
          name: output_format
          options:
          - label:
              en_US: MARKDOWN
              ja_JP: MARKDOWN
              pt_BR: MARKDOWN
              zh_Hans: MARKDOWN
            value: markdown
          - label:
              en_US: JSON
              ja_JP: JSON
              pt_BR: JSON
              zh_Hans: JSON
            value: json
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: select
        params:
          db_host: ''
          db_name: ''
          db_password: ''
          db_port: ''
          db_properties: ''
          db_type: ''
          db_username: ''
          output_format: ''
          query_sql: ''
        provider_id: junjiem/db_query/db_query
        provider_name: junjiem/db_query/db_query
        provider_type: builtin
        retry_config:
          max_retries: 3
          retry_enabled: false
          retry_interval: 1000
        selected: false
        title: SQLæŸ¥è¯¢
        tool_configurations:
          output_format:
            type: constant
            value: json
        tool_description: æ•°æ®åº“SQLæŸ¥è¯¢å·¥å…·ã€‚
        tool_label: SQLæŸ¥è¯¢
        tool_name: sql_query
        tool_node_version: '2'
        tool_parameters:
          db_host:
            type: mixed
            value: '{{#env.DB_ADDR2#}}'
          db_name:
            type: mixed
            value: '{{#env.DB_NAME2#}}'
          db_password:
            type: mixed
            value: '{{#env.DB_PASSWORD2#}}'
          db_port:
            type: constant
            value: 13306
          db_properties:
            type: mixed
            value: ''
          db_type:
            type: constant
            value: mysql
          db_username:
            type: mixed
            value: '{{#env.DB_USER2#}}'
          query_sql:
            type: mixed
            value: '{{#1747751818180.result#}}'
        type: tool
      height: 126
      id: '1747752928210'
      position:
        x: 1246
        y: 362.5
      positionAbsolute:
        x: 1246
        y: 362.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        error_strategy: fail-branch
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: chart title
            ja_JP: chart title
            pt_BR: chart title
            zh_Hans: å›¾è¡¨çš„æ ‡é¢˜
          label:
            en_US: title
            ja_JP: title
            pt_BR: title
            zh_Hans: æ ‡é¢˜
          llm_description: chart title
          max: null
          min: null
          name: title
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: data for generating chart, each number should be separated by ";"
            ja_JP: data for generating chart, each number should be separated by ";"
            pt_BR: data for generating chart, each number should be separated by ";"
            zh_Hans: ç”¨äºç”ŸæˆæŸ±çŠ¶å›¾çš„æ•°æ®ï¼Œæ¯ä¸ªæ•°å­—ä¹‹é—´ç”¨ ";" åˆ†éš”
          label:
            en_US: data
            ja_JP: data
            pt_BR: data
            zh_Hans: æ•°æ®
          llm_description: data for generating bar chart, data should be a string
            contains a list of numbers like "1;2;3;4;5"
          max: null
          min: null
          name: data
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: X axis for chart, each text should be separated by ";"
            ja_JP: X axis for chart, each text should be separated by ";"
            pt_BR: X axis for chart, each text should be separated by ";"
            zh_Hans: æŸ±çŠ¶å›¾çš„ x è½´ï¼Œæ¯ä¸ªæ–‡æœ¬ä¹‹é—´ç”¨ ";" åˆ†éš”
          label:
            en_US: X Axis
            ja_JP: X Axis
            pt_BR: X Axis
            zh_Hans: x è½´
          llm_description: x axis for bar chart, x axis should be a string contains
            a list of texts like "a;b;c;1;2" in order to match the data
          max: null
          min: null
          name: x_axis
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        params:
          data: ''
          title: ''
          x_axis: ''
        provider_id: langgenius/echarts/echarts
        provider_name: langgenius/echarts/echarts
        provider_type: builtin
        selected: false
        title: æŸ±çŠ¶å›¾
        tool_configurations: {}
        tool_description: æŸ±çŠ¶å›¾
        tool_label: æŸ±çŠ¶å›¾
        tool_name: bar_chart
        tool_node_version: '2'
        tool_parameters:
          data:
            type: mixed
            value: '{{#1749990827866.structured_output.data#}}'
          title:
            type: mixed
            value: '{{#1749990827866.structured_output.title#}}'
          x_axis:
            type: mixed
            value: '{{#1749990827866.structured_output.xdata#}}'
        type: tool
      height: 90
      id: '1747813580715'
      position:
        x: 3374
        y: 284.3091118376402
      positionAbsolute:
        x: 3374
        y: 284.3091118376402
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        selected: false
        template: '{{ arg1 }}'
        title: æ¨¡æ¿è½¬æ¢
        type: template-transform
        variables:
        - value_selector:
          - '1747752928210'
          - json
          variable: arg1
      height: 54
      id: '1747814091755'
      position:
        x: 1550
        y: 362.5
      positionAbsolute:
        x: 1550
        y: 362.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        error_strategy: fail-branch
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: chart title
            ja_JP: chart title
            pt_BR: chart title
            zh_Hans: å›¾è¡¨çš„æ ‡é¢˜
          label:
            en_US: title
            ja_JP: title
            pt_BR: title
            zh_Hans: æ ‡é¢˜
          llm_description: chart title
          max: null
          min: null
          name: title
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: data for generating chart, each number should be separated by ";"
            ja_JP: data for generating chart, each number should be separated by ";"
            pt_BR: data for generating chart, each number should be separated by ";"
            zh_Hans: ç”¨äºç”Ÿæˆé¥¼å›¾çš„æ•°æ®ï¼Œæ¯ä¸ªæ•°å­—ä¹‹é—´ç”¨ ";" åˆ†éš”
          label:
            en_US: data
            ja_JP: data
            pt_BR: data
            zh_Hans: æ•°æ®
          llm_description: data for generating pie chart, data should be a string
            contains a list of numbers like "1;2;3;4;5"
          max: null
          min: null
          name: data
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Categories for chart, each category should be separated by ";"
            ja_JP: Categories for chart, each category should be separated by ";"
            pt_BR: Categories for chart, each category should be separated by ";"
            zh_Hans: é¥¼å›¾çš„åˆ†ç±»ï¼Œæ¯ä¸ªåˆ†ç±»ä¹‹é—´ç”¨ ";" åˆ†éš”
          label:
            en_US: Categories
            ja_JP: Categories
            pt_BR: Categories
            zh_Hans: åˆ†ç±»
          llm_description: categories for pie chart, categories should be a string
            contains a list of texts like "a;b;c;1;2" in order to match the data,
            each category should be split by ";"
          max: null
          min: null
          name: categories
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        params:
          categories: ''
          data: ''
          title: ''
        provider_id: langgenius/echarts/echarts
        provider_name: langgenius/echarts/echarts
        provider_type: builtin
        selected: false
        title: é¥¼å›¾
        tool_configurations: {}
        tool_description: é¥¼å›¾
        tool_label: é¥¼å›¾
        tool_name: pie_chart
        tool_node_version: '2'
        tool_parameters:
          categories:
            type: mixed
            value: '{{#1749990827866.structured_output.class#}}'
          data:
            type: mixed
            value: '{{#1749990827866.structured_output.data#}}'
          title:
            type: mixed
            value: '{{#1749990827866.structured_output.title#}}'
        type: tool
      height: 90
      id: '1747841365853'
      position:
        x: 3374
        y: 411.4854113656378
      positionAbsolute:
        x: 3374
        y: 411.4854113656378
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        error_strategy: fail-branch
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: chart title
            ja_JP: chart title
            pt_BR: chart title
            zh_Hans: å›¾è¡¨çš„æ ‡é¢˜
          label:
            en_US: title
            ja_JP: title
            pt_BR: title
            zh_Hans: æ ‡é¢˜
          llm_description: chart title
          max: null
          min: null
          name: title
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: data for generating chart, each number should be separated by ";"
            ja_JP: data for generating chart, each number should be separated by ";"
            pt_BR: data for generating chart, each number should be separated by ";"
            zh_Hans: ç”¨äºç”Ÿæˆçº¿æ€§å›¾è¡¨çš„æ•°æ®ï¼Œæ¯ä¸ªæ•°å­—ä¹‹é—´ç”¨ ";" åˆ†éš”
          label:
            en_US: data
            ja_JP: data
            pt_BR: data
            zh_Hans: æ•°æ®
          llm_description: data for generating linear chart, data should be a string
            contains a list of numbers like "1;2;3;4;5"
          max: null
          min: null
          name: data
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: X axis for chart, each text should be separated by ";"
            ja_JP: X axis for chart, each text should be separated by ";"
            pt_BR: X axis for chart, each text should be separated by ";"
            zh_Hans: çº¿æ€§å›¾è¡¨çš„ x è½´ï¼Œæ¯ä¸ªæ–‡æœ¬ä¹‹é—´ç”¨ ";" åˆ†éš”
          label:
            en_US: X Axis
            ja_JP: X Axis
            pt_BR: X Axis
            zh_Hans: x è½´
          llm_description: x axis for linear chart, x axis should be a string contains
            a list of texts like "a;b;c;1;2" in order to match the data
          max: null
          min: null
          name: x_axis
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        params:
          data: ''
          title: ''
          x_axis: ''
        provider_id: langgenius/echarts/echarts
        provider_name: langgenius/echarts/echarts
        provider_type: builtin
        selected: false
        title: çº¿æ€§å›¾è¡¨
        tool_configurations: {}
        tool_description: çº¿æ€§å›¾è¡¨
        tool_label: çº¿æ€§å›¾è¡¨
        tool_name: line_chart
        tool_node_version: '2'
        tool_parameters:
          data:
            type: mixed
            value: '{{#1749990827866.structured_output.data#}}'
          title:
            type: mixed
            value: '{{#1749990827866.structured_output.title#}}'
          x_axis:
            type: mixed
            value: '{{#1749990827866.structured_output.xdata#}}'
        type: tool
      height: 90
      id: '1747841371449'
      position:
        x: 3374
        y: 532.7544044587819
      positionAbsolute:
        x: 3374
        y: 532.7544044587819
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: fb812a5b-5552-4c88-a1ec-12cf68e73283
            value: æŸ±çŠ¶å›¾
            varType: object
            variable_selector:
            - '1749990827866'
            - structured_output
            - type
          - comparison_operator: is
            id: bf703fbd-7dff-49b1-adcd-bb818d0492f6
            value: bar
            varType: object
            variable_selector:
            - '1749990827866'
            - structured_output
            - type
          id: 'true'
          logical_operator: or
        - case_id: 9ad98e85-20c2-4589-af7f-7a7bf305d2e2
          conditions:
          - comparison_operator: is
            id: a10b7912-2512-4a5e-a8fa-fb0c3bf36422
            value: é¥¼å›¾
            varType: object
            variable_selector:
            - '1749990827866'
            - structured_output
            - type
          - comparison_operator: is
            id: 40fe107b-d6a7-4402-af86-c427f27f2ea1
            value: pie
            varType: object
            variable_selector:
            - '1749990827866'
            - structured_output
            - type
          id: 9ad98e85-20c2-4589-af7f-7a7bf305d2e2
          logical_operator: or
        - case_id: b6bba3b4-d2c8-4bd7-848a-65e0092964c6
          conditions:
          - comparison_operator: is
            id: 63734b2b-b4d8-498a-9eaf-1550f2fd920d
            value: çº¿çŠ¶å›¾
            varType: object
            variable_selector:
            - '1749990827866'
            - structured_output
            - type
          - comparison_operator: is
            id: 6beeb6a3-1115-4d75-a2db-e236a5707a93
            value: liner
            varType: object
            variable_selector:
            - '1749990827866'
            - structured_output
            - type
          - comparison_operator: is
            id: 31d1ade7-fc7e-49eb-b745-ebb926345d79
            value: line
            varType: object
            variable_selector:
            - '1749990827866'
            - structured_output
            - type
          id: b6bba3b4-d2c8-4bd7-848a-65e0092964c6
          logical_operator: or
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯
        type: if-else
      height: 326
      id: '1747841498631'
      position:
        x: 3070
        y: 309.64285714285717
      positionAbsolute:
        x: 3070
        y: 309.64285714285717
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: qwen3:14b-q4_K_M
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: fab8e353-5d7f-4a01-94d0-2c715932d565
          role: system
          text: 'åŸºäºä¸‹é¢ä¿¡æ¯åŠç”¨æˆ·é—®é¢˜åšç®€å•çš„åˆ†ææ€»ç»“(ä¸è¶…è¿‡300å­—)ï¼Œæ— éœ€è´¨ç–‘æ•°æ®çš„å‡†ç¡®æ€§ï¼š

            å›¾è¡¨ç±»å‹ï¼š{{#1749990827866.structured_output.type#}}

            å›¾è¡¨æ ‡é¢˜ï¼š{{#1749990827866.structured_output.title#}}

            å›¾è¡¨çºµè½´æ•°æ®ï¼š{{#1749990827866.structured_output.data#}}

            å›¾è¡¨æ¨ªè½´æ•°æ®ï¼š{{#1749990827866.structured_output.xdata#}}

            å›¾è¡¨æ•°æ®æ¥æº(æ•°æ®åº“æŸ¥è¯¢)ï¼š{{#1747814091755.output#}}


            ã€çº¦æŸã€‘

            æ— éœ€è´¨ç–‘æ•°æ®çš„å‡†ç¡®æ€§ï¼Œæ•°æ®æ¥æºçœŸå®å®Œæ•´ï¼Œå›ç­”ä¸­ä¸è¦å‡ºç°æ•°æ®çœŸå®æ€§ç›¸å…³å†…å®¹'
        - id: 566956df-bbcf-421d-bc64-8db459cf1df6
          role: user
          text: 'ç”¨æˆ·é—®é¢˜ï¼š{{#sys.query#}}

            '
        selected: false
        title: æŸ±çŠ¶å›¾-æ•°æ®åˆ†æ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1747841753120'
      position:
        x: 3711.3867292492264
        y: 248.9285714285714
      positionAbsolute:
        x: 3711.3867292492264
        y: 248.9285714285714
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1747841753120.text#}}

          {{#1747813580715.text#}}

          {{#1747813580715.files#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 1
        type: answer
        variables: []
      height: 143
      id: '1747841769222'
      position:
        x: 4010
        y: 248.9285714285714
      positionAbsolute:
        x: 4010
        y: 248.9285714285714
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: qwen3:14b-q4_K_M
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: fab8e353-5d7f-4a01-94d0-2c715932d565
          role: system
          text: 'åŸºäºä¸‹é¢ä¿¡æ¯åŠç”¨æˆ·é—®é¢˜åšç®€å•çš„åˆ†ææ€»ç»“(ä¸è¶…è¿‡300å­—)ï¼Œæ— éœ€è´¨ç–‘æ•°æ®çš„å‡†ç¡®æ€§ï¼š

            å›¾è¡¨ç±»å‹ï¼š{{#1749990827866.structured_output.type#}}

            å›¾è¡¨æ ‡é¢˜ï¼š{{#1749990827866.structured_output.title#}}

            å›¾è¡¨æ•°æ®ï¼š{{#1749990827866.structured_output.data#}}

            å›¾è¡¨åˆ†ç±»æ•°æ®ï¼š{{#1749990827866.structured_output.class#}}

            å›¾è¡¨æ•°æ®æ¥æº(æ•°æ®åº“æŸ¥è¯¢)ï¼š{{#1747814091755.output#}}


            ã€çº¦æŸã€‘

            æ— éœ€è´¨ç–‘æ•°æ®çš„å‡†ç¡®æ€§ï¼Œæ•°æ®æ¥æºçœŸå®å®Œæ•´ï¼Œå›ç­”ä¸­ä¸è¦å‡ºç°æ•°æ®çœŸå®æ€§ç›¸å…³å†…å®¹'
        - id: e776f6c2-98b1-41ba-b9ce-0387b771f431
          role: user
          text: ç”¨æˆ·é—®é¢˜ï¼š{{#sys.query#}}
        selected: false
        title: é¥¼å›¾-æ•°æ®åˆ†æ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '17478778952540'
      position:
        x: 3725
        y: 416.92857142857144
      positionAbsolute:
        x: 3725
        y: 416.92857142857144
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: qwen3:14b-q4_K_M
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: fab8e353-5d7f-4a01-94d0-2c715932d565
          role: system
          text: 'åŸºäºä¸‹é¢ä¿¡æ¯åŠç”¨æˆ·é—®é¢˜åšç®€å•çš„åˆ†ææ€»ç»“(ä¸è¶…è¿‡300å­—)ï¼Œæ— éœ€è´¨ç–‘æ•°æ®çš„å‡†ç¡®æ€§ï¼š

            å›¾è¡¨ç±»å‹ï¼š{{#1749990827866.structured_output.type#}}

            å›¾è¡¨æ ‡é¢˜ï¼š{{#1749990827866.structured_output.title#}}

            å›¾è¡¨çºµè½´æ•°æ®ï¼š{{#1749990827866.structured_output.data#}}

            å›¾è¡¨æ¨ªè½´æ•°æ®ï¼š{{#1749990827866.structured_output.xdata#}}

            å›¾è¡¨æ•°æ®æ¥æºï¼ˆæ•°æ®åº“æŸ¥è¯¢ï¼‰: {{#1747814091755.output#}}


            ã€çº¦æŸã€‘

            æ— éœ€è´¨ç–‘æ•°æ®çš„å‡†ç¡®æ€§ï¼Œæ•°æ®æ¥æºçœŸå®å®Œæ•´ï¼Œå›ç­”ä¸­ä¸è¦å‡ºç°æ•°æ®çœŸå®æ€§ç›¸å…³å†…å®¹'
        - id: 8ae3c426-259e-41fb-acdc-4f5d0b3a2e0d
          role: user
          text: ç”¨æˆ·é—®é¢˜ï¼š{{#sys.query#}}
        selected: false
        title: çº¿æ€§å›¾-æ•°æ®åˆ†æ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '17478779274600'
      position:
        x: 3734
        y: 547.7857142857143
      positionAbsolute:
        x: 3734
        y: 547.7857142857143
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#17478778952540.text#}}

          {{#1747841365853.text#}}

          {{#1747841365853.files#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 2
        type: answer
        variables: []
      height: 124
      id: '17478779734590'
      position:
        x: 4024.1421355506964
        y: 416.92857142857144
      positionAbsolute:
        x: 4024.1421355506964
        y: 416.92857142857144
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#17478779274600.text#}}

          {{#1747841371449.text#}}

          {{#1747841371449.files#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 3
        type: answer
        variables: []
      height: 143
      id: '17478780555980'
      position:
        x: 4024.1421355506964
        y: 547.7857142857143
      positionAbsolute:
        x: 4024.1421355506964
        y: 547.7857142857143
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.1
          mode: chat
          name: qwen3:14b-q4_K_M
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: 7088b1dc-2cea-4c92-a6d2-23f266f76555
          role: system
          text: 'ä½ æ˜¯ä¸€ä¸ªæ•°æ®åˆ†æå¯è§†åŒ–ä¸“å®¶ï¼Œè¯·æ ¹æ®ç”¨æˆ·é—®é¢˜ä¸æŸ¥è¯¢ç»“æœåˆ¤æ–­æ˜¯å¦é€‚åˆå›¾è¡¨å±•ç¤ºã€‚

            ã€åˆ¤æ–­é€»è¾‘ã€‘

            è¾“å‡ºç»“æœå¿…é¡»æ˜¯ä»¥ä¸‹ä¸¤ä¸ªæ ‡ç­¾ä¹‹ä¸€ï¼š

            SHOW_CHARTï¼šé€‚åˆå›¾è¡¨å±•ç¤º

            NO_CHARTï¼šä¸é€‚åˆå›¾è¡¨å±•ç¤ºã€æˆ–è€…æ›´é€‚åˆè¡¨æ ¼å±•ç¤º

            è¯·ä¾æ®ä»¥ä¸‹è§„åˆ™åˆ¤æ–­ï¼š

            a. å¦‚æœæŸ¥è¯¢ç»“æœåŒ…å«å¤šä¸ªæ•°æ®ç‚¹â€‹ï¼ˆå¦‚æŒ‰æ—¶é—´ã€ç±»åˆ«ã€åœ°åŒºç­‰ç»Ÿè®¡ï¼‰ï¼Œæˆ–å…·æœ‰åˆ†ç±»ã€è¶‹åŠ¿ã€å¯¹æ¯”ã€åˆ†å¸ƒç­‰ç»“æ„æ€§ç‰¹å¾ï¼Œè¾“å‡º SHOW_CHARTï¼›

            b. å¦‚æœæŸ¥è¯¢ç»“æœä»…ä¸º å•ä¸€æ•°å€¼ æˆ– ç¼ºä¹å¯å¯¹æ¯”ç»´åº¦ï¼Œè¾“å‡º NO_CHARTï¼›

            c. å¦‚æœç”¨æˆ·æ˜ç¡®æå‡º éœ€è¦å›¾è¡¨å±•ç¤ºï¼Œæ— è®ºç»“æœç»“æ„å¦‚ä½•ï¼Œå§‹ç»ˆè¾“å‡º SHOW_CHARTï¼›

            d. å½“å‰ä»…æ”¯æŒ æŸ±çŠ¶å›¾ å’Œ é¥¼å›¾ï¼Œä¸”æ¯æ¡è®°å½•æœ€å¤šåŒ…å« ä¸¤åˆ—æ•°æ®ï¼ˆX è½´ä¸ Y è½´ï¼‰ï¼Œè‹¥è¶…å‡ºä¸¤åˆ—ï¼Œè¾“å‡ºNO_CHARTã€‚

            ã€è¾“å‡ºè¦æ±‚ã€‘

            ä»…è¾“å‡ºSHOW_CHARTæˆ–NO_CHARTï¼Œä¸è¦æ·»åŠ è§£é‡Šæˆ–å…¶ä»–å†…å®¹ã€‚

            /no think'
        - id: 776d1602-c890-49cf-8b71-ae1612fe49d4
          role: user
          text: 'ç”¨æˆ·é—®é¢˜ï¼š{{#sys.query#}}

            æŸ¥è¯¢ç»“æœï¼š{{#1747814091755.output#}}'
        selected: false
        structured_output_enabled: true
        title: è·¯å¾„åˆ¤æ–­
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1747907776898'
      position:
        x: 2169.4285714285716
        y: 613.9285714285714
      positionAbsolute:
        x: 2169.4285714285716
        y: 613.9285714285714
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 56cc9577-14d0-44de-bf69-82bd5f820ccf
            value: SHOW_CHART
            varType: string
            variable_selector:
            - '1747907776898'
            - text
          id: 'true'
          logical_operator: and
        - case_id: b9de981d-33a1-47fc-b9a7-c455f659f2cb
          conditions:
          - comparison_operator: contains
            id: 12639fd4-1067-4ba9-8f1b-b50e4cc0ed86
            value: NO_CHART
            varType: string
            variable_selector:
            - '1747907776898'
            - text
          id: b9de981d-33a1-47fc-b9a7-c455f659f2cb
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯ 2
        type: if-else
      height: 174
      id: '1747907978796'
      position:
        x: 2453.4285714285716
        y: 613.9285714285714
      positionAbsolute:
        x: 2453.4285714285716
        y: 613.9285714285714
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: qwen3:14b-q4_K_M
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: fab8e353-5d7f-4a01-94d0-2c715932d565
          role: system
          text: 'åŸºäºç”¨æˆ·é—®é¢˜åŠæŸ¥è¯¢ç»“æœåšç®€å•çš„åˆ†ææ€»ç»“ï¼ˆéƒ¨åˆ†å¯è€ƒè™‘**è¡¨æ ¼å½¢å¼**è¾“å‡ºï¼‰(ä¸è¶…è¿‡300å­—)ï¼Œæ— éœ€è´¨ç–‘æ•°æ®çš„å‡†ç¡®æ€§ï¼š

            ã€å­—æ®µå«ä¹‰è¯´æ˜ã€‘

            è‹¥å­—æ®µä¸­å‡ºç°â€œé£é™©ç­‰çº§â€æˆ–ç±»ä¼¼å­—æ®µï¼ˆä¸å­˜åœ¨åˆ™ä¸è¦åœ¨å›ç­”é‡Œé¢æåŠï¼‰ï¼Œå­—æ®µå€¼å«ä¹‰å¦‚ä¸‹ï¼š

            - 1 è¡¨ç¤º ä½é£é™©

            - 2 è¡¨ç¤º ä¸­é£é™©

            - 3 è¡¨ç¤º é«˜é£é™©

            è¯·å°†è¯¥å­—æ®µä¸­çš„æ•°å€¼è½¬æ¢ä¸ºå¯¹åº”çš„ä¸­æ–‡é£é™©ç­‰çº§è¿›è¡Œå¤„ç†ã€‚

            '
        - id: 566956df-bbcf-421d-bc64-8db459cf1df6
          role: user
          text: 'ç”¨æˆ·é—®é¢˜ï¼š{{#sys.query#}}

            æŸ¥è¯¢ç»“æœï¼š{{#1747814091755.output#}}'
        selected: false
        title: æ— å›¾åˆ†æ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '17479081800800'
      position:
        x: 2766
        y: 654.3571428571429
      positionAbsolute:
        x: 2766
        y: 654.3571428571429
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#17479081800800.text#}}'
        desc: ''
        selected: false
        title: æ— å›¾è¾“å‡º
        type: answer
        variables: []
      height: 105
      id: '1747908292502'
      position:
        x: 3070
        y: 654.3571428571429
      positionAbsolute:
        x: 3070
        y: 654.3571428571429
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: ç›®å‰æš‚ä¸æ”¯æŒæŸ¥è¯¢è¯¥åŠŸèƒ½
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 6
        type: answer
        variables: []
      height: 102
      id: '1747910108539'
      position:
        x: 2766
        y: 794.7857142857143
      positionAbsolute:
        x: 2766
        y: 794.7857142857143
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 1a9af472-1d6e-4a6a-a354-ac5f6bfeda3d
            value: è½¨è¿¹
            varType: string
            variable_selector:
            - sys
            - query
          - comparison_operator: not contains
            id: ede9de9b-dedc-46a4-9067-c5356025473d
            value: '[{''records'': []}]'
            varType: string
            variable_selector:
            - '1747814091755'
            - output
          id: 'true'
          logical_operator: and
        - case_id: 831e9b1d-8a8a-44f4-8a89-cb71a68096d0
          conditions:
          - comparison_operator: contains
            id: 65bb5363-8a3e-4d3f-903f-de15aa7f099c
            value: '[{''records'': []}]'
            varType: string
            variable_selector:
            - '1747814091755'
            - output
          id: 831e9b1d-8a8a-44f4-8a89-cb71a68096d0
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯ 3
        type: if-else
      height: 200
      id: '1747987320346'
      position:
        x: 1854
        y: 362.5
      positionAbsolute:
        x: 1854
        y: 362.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        error_strategy: fail-branch
        model:
          completion_params:
            temperature: 0
          mode: chat
          name: qwen3:14b-q4_K_M
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: 78c15477-b2aa-4bca-801e-fafa4b8fe991
          role: system
          text: 'ã€å·¥ä½œæµç¨‹ã€‘

            1.ä»{{#1747751818180.result#}}ä¸­ä»…ä»…æå–beginTimeã€deviceTypeã€endTime

            2.ä»{{#1747814091755.output#}}ä¸­ä»…ä»…æå–deviceCodeä¿¡æ¯


            ã€è¾“å…¥æ ¼å¼ã€‘

            {

            beginTime:

            deviceCode:

            deviceType:

            endTime:

            ï½


            ã€çº¦æŸã€‘

            ä¸¥æ ¼æŒ‰ç…§å·¥ä½œæµç¨‹æ‰§è¡Œï¼Œä¸è¦äº¤å‰æå–ï¼ŒæŒ‰é™å®šå†…å®¹æå–ä¿¡æ¯

            æœªæ‰¾åˆ°ï¼Œè¿”å›"è¯¥è½¦è¾†æ— è½¨è¿¹ä¿¡æ¯"å³å¯


            æ¯å¤©çš„æ—¶é—´éƒ½æŒ‰00:00:00  23:59:59å¡«å…¥'
        selected: false
        structured_output:
          schema:
            additionalProperties: false
            properties:
              beginTime:
                type: string
              deviceCode:
                type: string
              deviceType:
                type: string
              endTime:
                type: string
            required:
            - beginTime
            - deviceCode
            - deviceType
            - endTime
            type: object
        structured_output_enabled: true
        title: è½¨è¿¹å†…å®¹æå–
        type: llm
        variables: []
        vision:
          enabled: false
      height: 126
      id: '1747987368698'
      position:
        x: 2154.849784429264
        y: 199.21428571428572
      positionAbsolute:
        x: 2154.849784429264
        y: 199.21428571428572
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1747987368698.structured_output#}}

          '
        desc: ''
        selected: false
        title: è½¨è¿¹æ•°æ®è¾“å‡º
        type: answer
        variables: []
      height: 105
      id: '1747996238797'
      position:
        x: 2453.4285714285716
        y: 199.21428571428572
      positionAbsolute:
        x: 2453.4285714285716
        y: 199.21428571428572
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: æš‚ä¸æ”¯æŒ
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 7
        type: answer
        variables: []
      height: 102
      id: '1747998392408'
      position:
        x: 1550
        y: 434.07142857142856
      positionAbsolute:
        x: 1550
        y: 434.07142857142856
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: æš‚ä¸æ”¯æŒ
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 8
        type: answer
        variables: []
      height: 102
      id: '1747998431868'
      position:
        x: 942
        y: 497.6428571428572
      positionAbsolute:
        x: 942
        y: 497.6428571428572
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: è¯¥è½¦è¾†æ— è½¨è¿¹ä¿¡æ¯
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 9
        type: answer
        variables: []
      height: 102
      id: '1747998467066'
      position:
        x: 2453.4285714285716
        y: 356.7857142857143
      positionAbsolute:
        x: 2453.4285714285716
        y: 356.7857142857143
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: è¯¥éƒ¨åˆ†æ•°æ®ä¸ºç©º
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 10
        type: answer
        variables: []
      height: 102
      id: '1749177133063'
      position:
        x: 2169.4285714285716
        y: 468.3571428571428
      positionAbsolute:
        x: 2169.4285714285716
        y: 468.3571428571428
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '1747814091755'
          - output
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: qwen2.5:32b
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: 568942f5-ed39-40c8-90ad-cd182653c582
          role: system
          text: " ã€è§’è‰²è®¾å®šã€‘\nå‡è®¾ä½ æ˜¯ä¸€ä½æ•°æ®æŠ½å–ä¸“å®¶ï¼Œé€šè¿‡åˆ†ææŠ½å–æŒ‡å®šæ•°æ®ç»“æ„å†…çš„ä¿¡æ¯ï¼Œç”¨äºåç»­ç”Ÿæˆå›¾è¡¨ï¼›\n\nã€å­—æ®µå«ä¹‰è¯´æ˜ã€‘\nè‹¥å­—æ®µä¸­å‡ºç°â€œé£é™©ç­‰çº§â€æˆ–ç±»ä¼¼å­—æ®µï¼Œå­—æ®µå€¼å«ä¹‰å¦‚ä¸‹ï¼š\n\
            - 1 è¡¨ç¤º ä½é£é™©\n- 2 è¡¨ç¤º ä¸­é£é™©\n- 3 è¡¨ç¤º é«˜é£é™©\nè¯·å°†è¯¥å­—æ®µä¸­çš„æ•°å€¼è½¬æ¢ä¸ºå¯¹åº”çš„ä¸­æ–‡é£é™©ç­‰çº§è¿›è¡Œå¤„ç†ã€‚\n\nã€ä¸åŒç±»å‹å›¾è¡¨æ‰€éœ€è¦æå–çš„ä¿¡æ¯ã€‘\n\
            1. æŸ±çŠ¶å›¾ï¼šç°åœ¨è¦3ä¸ªæ•°æ®ï¼Œtitleæ˜¯æ ‡é¢˜,ï¼ˆææ–™ä¸­ä¸å­˜åœ¨åˆ™è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªä¸­æ–‡æ ‡é¢˜ï¼‰ï¼Œdataæ˜¯yè½´çš„æ•°æ®ï¼Œx-axisæ˜¯xè½´çš„æ•°æ®\n\
            2. é¥¼å›¾ï¼šç°åœ¨è¦3ä¸ªæ•°æ®ï¼Œtitleæ˜¯æ ‡é¢˜,ï¼ˆææ–™ä¸­ä¸å­˜åœ¨åˆ™è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªä¸­æ–‡æ ‡é¢˜ï¼‰ï¼Œdataæ˜¯æ•°æ®ï¼Œclassæ˜¯ç±»åˆ«\n3.çº¿æ€§å›¾ï¼šç°åœ¨è¦3ä¸ªæ•°æ®ï¼Œtitleæ˜¯æ ‡é¢˜,ï¼ˆææ–™ä¸­ä¸å­˜åœ¨åˆ™è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªä¸­æ–‡æ ‡é¢˜ï¼‰ï¼Œdataæ˜¯yè½´çš„æ•°æ®ï¼Œx-axisæ˜¯xè½´çš„æ•°æ®\n\
            \nã€å·¥ä½œæµç¨‹ã€‘\n1. ç†è§£ç”¨æˆ·é—®é¢˜å’Œç›®çš„åŠç›¸å…³æ•°æ®\n2. é¦–å…ˆé€šè¿‡ç”¨æˆ·é—®é¢˜äº†è§£ç”¨æˆ·æ˜¯å¦è¦æ±‚ç‰¹å®šå›¾è¡¨å±•ç¤ºï¼Œå¦‚æœæœ‰æŒ‰ç”¨æˆ·éœ€æ±‚è¾“å‡ºï¼›å¦‚æœæ²¡æœ‰ï¼Œåˆ™é€šè¿‡ç”¨æˆ·é—®é¢˜å’ŒæŸ¥è¯¢ç»“æœè‡ªä¸»åˆ¤æ–­ç”¨æˆ·é—®é¢˜å’Œæ‰€æä¾›çš„æ•°æ®é€‚åˆå“ªç§å›¾è¡¨è¾“å‡ºï¼ˆæŸ±çŠ¶å›¾ã€é¥¼å›¾ã€çº¿å½¢å›¾ï¼‰\n\
            3.è‹¥\n3. æ ¹æ®æ‰€é€‰å›¾è¡¨ç±»å‹çš„ä¸åŒæå–æ•°æ®ï¼Œä¸è¦æå–å…¶ä»–å†…å®¹ï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š\n - ...\ntype: æŸ±çŠ¶å›¾/é¥¼å›¾/çº¿æ€§å›¾ï¼ˆä¸­æ–‡ï¼‰\n\
            title :\ndata :\nx-axisï¼ˆå¯é€‰ï¼‰:\nclass(å¯é€‰):\n...\nå…¶ä¸­æ¯ä¸ª\"dataä¸x-axisä¸classâ€ï¼Œæ¯ä¸ªæ–‡æœ¬ä¹‹é—´ç”¨\"\
            ;\"åˆ†éš”\n4. å°†ä¸Šä¸ªæ­¥éª¤ä¸­æå–çš„ä¿¡æ¯(å¦‚æœå­˜åœ¨)ä¸­ï¼Œ\ntitleä¿¡æ¯èµ‹å€¼ç»™è¿™é‡Œçš„title,\nxdataèµ‹å€¼ç»™è¿™é‡Œçš„x_axis,\n\
            ydataèµ‹å€¼ç»™è¿™é‡Œçš„data,\nclassèµ‹å€¼ç»™è¿™é‡Œçš„class\n\nã€çº¦æŸã€‘\nå›¾è¡¨æ ‡é¢˜å¿…é¡»æ˜¯ä¸­æ–‡\nå¦‚æœç”¨æˆ·è¦æ±‚ç‰¹å®šå›¾è¡¨å±•ç¤ºï¼Œåˆ™æŒ‰ç”¨æˆ·éœ€æ±‚è¾“å‡º"
        - id: 179945f5-74f6-4c79-81ba-49b1c7e1e97d
          role: user
          text: 'é—®é¢˜ï¼š{{#sys.query#}}

            æŸ¥è¯¢ç»“æœï¼š{{#1747814091755.output#}}'
        selected: false
        structured_output:
          schema:
            additionalProperties: false
            properties:
              class:
                type: string
              data:
                type: string
              title:
                type: string
              type:
                type: string
              xdata:
                type: string
            required:
            - data
            - title
            - type
            type: object
        structured_output_enabled: true
        title: å‚æ•°æå–å™¨
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1749990827866'
      position:
        x: 2766
        y: 422.7857142857143
      positionAbsolute:
        x: 2766
        y: 422.7857142857143
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: qwen3:14b-q4_K_M
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: fab8e353-5d7f-4a01-94d0-2c715932d565
          role: system
          text: 'åŸºäºç”¨æˆ·é—®é¢˜åŠæŸ¥è¯¢ç»“æœåšç®€å•çš„åˆ†ææ€»ç»“ï¼ˆéƒ¨åˆ†å¯è€ƒè™‘**è¡¨æ ¼å½¢å¼**è¾“å‡ºï¼‰(ä¸è¶…è¿‡300å­—)ï¼Œæ— éœ€è´¨ç–‘æ•°æ®çš„å‡†ç¡®æ€§ï¼š

            ã€å­—æ®µå«ä¹‰è¯´æ˜ã€‘

            è‹¥å­—æ®µä¸­å‡ºç°â€œé£é™©ç­‰çº§â€æˆ–ç±»ä¼¼å­—æ®µï¼Œå­—æ®µå€¼å«ä¹‰å¦‚ä¸‹ï¼š

            - 1 è¡¨ç¤º ä½é£é™©

            - 2 è¡¨ç¤º ä¸­é£é™©

            - 3 è¡¨ç¤º é«˜é£é™©

            è¯·å°†è¯¥å­—æ®µä¸­çš„æ•°å€¼è½¬æ¢ä¸ºå¯¹åº”çš„ä¸­æ–‡é£é™©ç­‰çº§è¿›è¡Œå¤„ç†ã€‚

            è‹¥å­—æ®µä¸­æœªå‡ºç°åˆ™ä¸è¦æåŠï¼ï¼ï¼

            '
        - id: 566956df-bbcf-421d-bc64-8db459cf1df6
          role: user
          text: 'ç”¨æˆ·é—®é¢˜ï¼š{{#sys.query#}}

            æŸ¥è¯¢ç»“æœï¼š{{#1747814091755.output#}}'
        selected: false
        title: æ— å›¾åˆ†æ (1)
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '17499920264110'
      position:
        x: 3734
        y: 725.158960377602
      positionAbsolute:
        x: 3734
        y: 725.158960377602
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#17499920264110.text#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 11
        type: answer
        variables: []
      height: 105
      id: '1749992103021'
      position:
        x: 4040.4834398722987
        y: 725.158960377602
      positionAbsolute:
        x: 4040.4834398722987
        y: 725.158960377602
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: -467.59805240373953
      y: 83.41873767315775
      zoom: 0.8179085315594723
